<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:shiro="http://shiro.apache.org/tags">

<ui:composition>
	<div id="header">
	<ui:insert name="header">

		<p:panelGrid columns="1">
			<p:graphicImage value="/Images/biblioLib.png" width="550" height="150"/>
			<h:form>
				<p:commandButton icon="pi pi-sign-out" value="#{I18N['application.button.deconnexion']}" action="#{loginBean.deconnexion}"
								 id="lienMenu"/>
			</h:form>

		</p:panelGrid>
		<shiro:authenticated>
				<h:form>
					<p:menubar id="menubar">
						<shiro:hasPermission name="Permissions:Lire">
							<p:submenu label="Gestion des permissions" icon="fa fa-fw fa-exclamation">
								<shiro:hasPermission name="Permissions:Lire">
									<p:menuitem value="Table des permissions" icon="fa fa-fw fa-table" action="tablePermissions.xhtml"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Permissions:Creer">
									<p:menuitem value="Nouvelle permission" icon="fa fa-fw fa-plus" action="formNewPermission"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Tarifs:Lire">
							<p:submenu label="Gestion des tarifs" icon="fa fa-fw fa-euro">
								<shiro:hasPermission name="Tarifs:Lire">
									<p:menuitem value="Voir les tarifs" icon="fa fa-fw fa-table" action="tableTarifs.xhtml"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Tarifs:Creer">
									<p:menuitem value="Nouvelle grille tarifaire" icon="fa fa-fw fa-plus" action="formNewTarif"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Roles:Lire">
							<p:submenu label="Gestion des rôles" icon="pi pi-fw pi-file">
								<shiro:hasPermission name="Roles:Lire">
									<p:menuitem value="Tables des rôles" icon="fa fa-fw fa-table" action="tableRoles.xhtml"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Roles:Creer">
									<p:menuitem value="Nouveau rôle" icon="fa fa-fw fa-plus" action="formNewRole"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Client:Lire">
							<p:submenu label="Gestion des personnes" icon="fa fa-fw fa-users">
								<p:submenu label="Voir les" icon="fa fa-fw fa-table">
									<shiro:hasPermission name="Client:Lire">
										<p:menuitem value="Clients" action="tableUtilisateursCli.xhtml"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Utilisateurs:Lire">
										<p:menuitem value="Utilisateurs" action="tableUtilisateurs.xhtml"/>
									</shiro:hasPermission>
								</p:submenu>
								<p:submenu label="Ajouter" icon="fa fa-fw fa-plus">
									<shiro:hasPermission name="Client:Creer">
										<p:menuitem value="Client" action="formNewUtilisateurCli"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Utilisateurs:Creer">
										<p:menuitem value="Utilisateur" action="formNewUtilisateur"/>
									</shiro:hasPermission>
								</p:submenu>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Genres:Lire">
							<p:submenu label="Gestion bibliothèque" icon="fa fa-fw fa-building-o">
								<p:submenu label="Voir les" icon="fa fa-fw fa-table">
									<shiro:hasPermission name="Bibliotheques:Lire">
										<p:menuitem value="Bibliothèques" action="tableBibliotheques.xhtml"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Livres:Lire">
										<p:menuitem value="Livres" action="tableLivres.xhtml"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Genres:Lire">
										<p:menuitem value="Genres" action="tableGenres.xhtml"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Editeurs:Lire">
										<p:menuitem value="Editeurs" action="tableEditeurs.xhtml"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Auteurs:Lire">
										<p:menuitem value="Auteurs" action="tableAuteurs.xhtml"/>
									</shiro:hasPermission>
								</p:submenu>
								<p:submenu label="Ajouter" icon="fa fa-fw fa-plus">
									<shiro:hasPermission name="Bibliotheques:Creer">
										<p:menuitem value="Bibliothèque" action="formNewBibliotheque"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Livres:Creer">
										<p:menuitem value="Livre" action="formNewLivre"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Genres:Lire">
										<p:menuitem value="Genre" action="formNewGenre"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Editeurs:Lire">
										<p:menuitem value="Editeur" action="formNewEditeur"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Auteurs:Lire">
										<p:menuitem value="Auteur" action="formNewAuteur"/>
									</shiro:hasPermission>
								</p:submenu>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Adresses:Lire">
							<p:submenu label="Gestion des adresses" icon="pi pi-fw pi-file">
								<shiro:hasPermission name="Adresses:Lire">
									<p:menuitem value="Table des Adresses" icon="fa fa-fw fa-table" action="tableAdresses.xhtml"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Adresses:Creer">
									<p:menuitem value="Nouvelle Adresses" icon="fa fa-fw fa-plus" action="formNewAdress"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Factures:Lire">
							<p:submenu label="Gestion des factures" icon="pi pi-fw pi-file">
								<shiro:hasPermission name="Factures:Lire">
									<p:menuitem value="Tables des factures" icon="fa fa-fw fa-table" action="tableFactures.xhtml"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Factures:Creer">
									<p:menuitem value="Retour de livre" icon="fa fa-fw fa-plus" action="formEtatQuestion"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Factures:Creer">
									<p:menuitem value="Nouvelle Facture" icon="fa fa-fw fa-plus" action="formNewFact"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
					</p:menubar>
				</h:form>
		</shiro:authenticated>
	</ui:insert>
	</div>
</ui:composition>

</html>

