<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:f = "http://java.sun.com/jsf/core"
	  xmlns:shiro="http://shiro.apache.org/tags">

<ui:composition>
	<div id="header">
	<ui:insert name="header">
		<shiro:authenticated>
		<p:panelGrid style="margin: 0 auto;" styleClass="ui-noborder" id="header2" class="table-entete" columns="2">
			<p:graphicImage value="/Images/biblioLib.png" width="550" height="150"/>
			<p:outputLabel id="titrebib" value="Bienvenue sur la bibliothèque #{bibliothequesBean.listBibactuel.get(0).nom} " />
		</p:panelGrid>
				<h:form>
					<p:menubar>
						<p:menuitem value="Accueil" icon="fa fa-fw fa-home" action="bienvenue?faces-redirect=true"/>
						<shiro:hasRole name="1">
							<p:submenu label="Permissions" icon="fa fa-fw fa-exclamation">
								<shiro:hasPermission name="Permissions:Lire">
									<p:menuitem value="Permissions" icon="fa fa-fw fa-table" action="tablePermissions?faces-redirect=true" />
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasRole>
						<shiro:hasPermission name="Tarifs:Lire">
							<p:submenu label="Tarifs" icon="fa fa-fw fa-euro">
								<shiro:hasPermission name="Tarifs:Lire">
									<p:menuitem value="Voir les tarifs" icon="fa fa-fw fa-table" action="tableTarifs?faces-redirect=true"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Tarifs:Creer">
									<p:menuitem value="Nouvelle grille tarifaire" icon="fa fa-fw fa-plus" action="#{tarifsBean.flushTarifsNew}"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Roles:Lire">
							<p:submenu label="Rôles" icon="fa fa-fw fa-wrench">
								<shiro:hasPermission name="Roles:Lire">
									<p:menuitem value="Tables des rôles" icon="fa fa-fw fa-table" action="tableRoles?faces-redirect=true"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Roles:Creer">
									<p:menuitem value="Nouveau rôle" icon="fa fa-fw fa-plus" action="#{rolesBean.flushRolNew}"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
							<p:submenu label="Personnes" icon="fa fa-fw fa-users">
								<p:submenu label="Voir les" icon="fa fa-fw fa-table">
									<shiro:hasPermission name="Client:Lire">
										<p:menuitem value="Clients" action="tableUtilisateursCli?faces-redirect=true" icon="fa fa-fw fa-user"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Utilisateurs:Lire">
										<p:menuitem value="Utilisateurs" action="tableUtilisateurs?faces-redirect=true" icon="fa fa-fw fa-user"/>
									</shiro:hasPermission>
								</p:submenu>
								<p:submenu label="Ajouter" icon="fa fa-fw fa-plus">
									<shiro:hasPermission name="Client:Creer">
										<p:menuitem value="Client" action="#{utilisateursBean.flushUtilCliNew}" icon="fa fa-fw fa-user"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Utilisateurs:Creer">
										<p:menuitem value="Utilisateur" action="#{utilisateursBean.flushUtilNew}" icon="fa fa-fw fa-user"/>
									</shiro:hasPermission>
								</p:submenu>
							</p:submenu>
							<p:submenu label="Bibliothèques" icon="fa fa-fw fa-building-o">
								<p:submenu label="Voir les" icon="fa fa-fw fa-table">
									<shiro:hasPermission name="Bibliotheques:Lire">
										<p:menuitem value="Bibliothèques" action="tableBibliotheques?faces-redirect=true" icon="fa fa-fw fa-building-o"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Livres:Lire">
										<p:menuitem value="Livres" action="tableLivres?faces-redirect=true" icon="fa fa-fw fa-book"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Genres:Lire">
										<p:menuitem value="Genres" action="tableGenres?faces-redirect=true" icon="fa fa-fw fa-text-width"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Editeurs:Lire">
										<p:menuitem value="Editeurs" action="tableEditeurs?faces-redirect=true" icon="fa fa-fw fa-building"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Auteurs:Lire">
										<p:menuitem value="Auteurs" action="tableAuteurs?faces-redirect=true" icon="fa fa-fw fa-pencil"/>
									</shiro:hasPermission>
								</p:submenu>
								<p:submenu label="Ajouter" icon="fa fa-fw fa-plus">
									<shiro:hasPermission name="Bibliotheques:Creer">
										<p:menuitem value="Bibliothèque" action="#{bibliothequesBean.flushBiblioNew}" icon="fa fa-fw fa-building-o"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Livres:Creer">
										<p:menuitem value="Livre" action="#{livresBean.flushLivNew}" icon="fa fa-fw fa-book"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Genres:Lire">
										<p:menuitem value="Genre" action="#{genresBean.flushGenNew}" icon="fa fa-fw fa-text-width"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Editeurs:Lire">
										<p:menuitem value="Editeur" action="#{editeursBean.flushEdNew}" icon="fa fa-fw fa-building"/>
									</shiro:hasPermission>
									<shiro:hasPermission name="Auteurs:Lire">
										<p:menuitem value="Auteur" action="#{auteursBean.flushAutNew}" icon="fa fa-fw fa-pencil"/>
									</shiro:hasPermission>
								</p:submenu>
								<shiro:hasRole name="1">
								<p:menuitem value="Reinitialisation de la bibliotheque" icon="fa fa-fw fa-refresh" action="formConfirmationReini?faces-redirect=true"/>
								</shiro:hasRole>
							</p:submenu>
						<shiro:hasPermission name="Adresses:Lire">
							<p:submenu label="Adresses" icon="fa fa-fw fa-street-view">
								<shiro:hasPermission name="Adresses:Lire">
									<p:menuitem value="Table des Adresses" icon="fa fa-fw fa-table" action="tableAdresses?faces-redirect=true"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Adresses:Creer">
									<p:menuitem value="Nouvelle Adresses" icon="fa fa-fw fa-plus" action="#{adressesBean.flushAddNew}"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<shiro:hasPermission name="Factures:Lire">
							<p:submenu label="Factures" icon="fa fa-fw fa-euro">
								<shiro:hasPermission name="Factures:Lire">
									<p:menuitem value="Tables des factures" icon="fa fa-fw fa-table" action="tableFactures?faces-redirect=true"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Factures:Creer">
									<p:menuitem value="Retour de livre" icon="fa fa-fw fa-book" action="formEtatQuestion?faces-redirect=true"/>
								</shiro:hasPermission>
								<shiro:hasPermission name="Factures:Creer">
									<p:menuitem value="Nouvelle Facture" icon="fa fa-fw fa-plus" action="formNewFact?faces-redirect=true"/>
								</shiro:hasPermission>
							</p:submenu>
						</shiro:hasPermission>
						<f:facet name="options">
							<p:commandButton value="Mon profil" icon="fa fa fw fa-sign-out" styleClass="ui-button-info" action="#{utilisateursBean.redirectModifUtilProfil}"/>
							<p:commandButton value="#{I18N['application.button.deconnexion']}" icon="fa fa fw fa-sign-out" styleClass="ui-button-info" action="#{loginBean.deconnexion}"/>
						</f:facet>
					</p:menubar>
				</h:form>
		</shiro:authenticated>
	</ui:insert>
	</div>
</ui:composition>

</html>

